
# 배열    
- 배열은 절려된 값의 집합이고 각각의 원소로 구성된다.    
- 각 원소는 배열에서 위치를 가리키는 인덱스라는 번호를 배정받는다.    
- 자바스크립트에서는 배열의 타입이 고정되어 있지 않고 크기가 동적이다.    
---
## 7.1 배열 만들기
- 배열 리터럴 사용 : [ , ] 안에 원소를 쉼표(,)로 구분해서 나열    
- 배열 리터럴 문법은 마지막 원소 다음에 쉼표를 추가할 수 있다고 명시하고 있어 [ , , ] 의 경우 원소의 갯수는 2개이다.    
- 만약 리터럴에서 빠진 부분이 존재할 경우, 해당 부분의 원소 값은 undefined가 된다.
```javascript
var empty = [  ]; // 원소가 없는 배열
var primes = [ 1 , 2 , 3 , 4 , 5 , ]; // 원소의 갯수는 5개
```
- Array( ) 생성자 사용
```javascript
var a = new Array();  // 인자없이 호출하는 방법
var a = new Array(10);  // 배열의 길이를 의미하는 숫자 값을 인자로 넣어서 호출한느 방법
var a = new Array(1,2,3,4,5,'testing');  // 두 개 이상의 원소 또는 숫자가 아닌 원소 값 하나를 명시적으로 지정하는 방법
```
## 7.2 배열의 원소 읽고 쓰기
- 배열의 각 원소에 접근할 때에는 [ ] 연산자 사용    
-  [  ] 연산자의 왼쪽에는 배열 참조 변수가 와야 하고 [ ] 안에는 -가 아닌 정수값이 위치할 수 있다.    
- 배열은 객4테의 특별한 종류임.
- 사용자가 명시한 숫자 배열 인덱스를 문자열 형태로 바꿔서 프로퍼티 이름으로 사용    
- 객체에 존재하지 않는 프로퍼티 이름을 질의하면 undefined 값을 반환함.
- 모든 배열은 객체 이기 때문에 객체의 프로토타입으로부터 원소들을 상속받을 수 있다.
## 7.3 희소배열
- 배열에 속한 원소의 위치가 연속적이지 않은 배열을 만한다.
- 보통 배열보다 일반적으로 느리고, 메모리를 많이 사용
## 7.4 배열의 길이
- 모든 배열에는 length 프로퍼티가 있다.
- 배열에 현재 크기보다 같거나 큰 인덱스 i를 갖는 원소를 삽입하는 경우 length 값은 자동으로 i+1이 된다.
- 음이 아닌 정수로 기본 length 값보다 작은 정수를 length 값으로 할당하는 경우 n번째 인덱스보다 크거나 같은 위치에 있는 원소는 배열에서 삭제된다.
- 배열의 프로퍼티 값을 Object.defineProperty() 메서드를 사용해 읽기 전용(read-only)으로 만들 수 있다.
```javascript
Object.defineProperty(a,"length",{writable: false});
```
## 7.5 배열에 원소를 추거하거나 삭제하기
- 배열의 새 인덱스에 값을 할당
```javascript
var a = []; // 빈 배열 만들기
a[0] = "zero"; // 값 할당하기
a[1] = "one";
```
- push() 메서드를 사용해서 배열의 끝에 원소 추가하기      
push() 메서드를 사용해서 추가하는 것은 a[a.length]에 값을 할당하는 것과 같다.
```javascript
var a = [];
a.push("zero");
a.push("one", "two");
```
- delete 연산자로 배열의 원소 지우기    
    배열의 원소가 지워져도 length 는 줄어들지 않는다.
    해당 인덱스의 값에는 undefined 값이 할당된다.
```javascript
a = [1,2,3];
delete a[1];
1 in a; // false
```
- pop() 메서드
    length를 하나 줄이고, 삭제된 값(배열의 끝에 있는 값)을 반환한다.
    
## 7.6 배열 순회하기
- 가장 일반적인 방법은 for 루프를 사용하는 것이다.
    매번 배열의 length를 가져오기보다, 한 번만 가져와서 사용하도록 루프를 최적화하는게 좋다.
```javascript
var keys = Object.keys(o);
var values = [ ];
for(var i = 0, len = keys.length ; i < len ; i++) {
    //
}
```
- for/in 루프
```javascript
for(var index in sparseArray) {
    var value = sparseArray[index]
    //
}
```
- forEach() 메서드
```javascript
var data = [1,2,3,4,5];
var sumOfSquares = 0;
data.forEach(function(x) {
    sumOfSquares += x*x;
});
```
## 7.7 다차원 배열
- 자바스키립트는 진정한 의미에서의 다차원 배열을 지원하지 않지만 배열의 배열을 사용해 다차언 배열을 흉내낼 수 있다.
- 배열 내의 배열에 있는 원소에 접근하기 위해서는 [ ] 연산자를 두 번 사용하면 된다.

## 7.8 배열 메서드
### join()     
- 배열의 모든 언소를 문자열로 변환하고, 변환한 문자들을 이어 붙인 결과를 반환
- 반환되는 배열의 원소들을 구별하기 위해 구분자(separator) 문자열을 사용
- 별도의 구분자를 사용하지 않으면 쉼표(,)가 기본 값으로 사용
### reverse()
- 배열의 원소 순서를 반대로 뒤집어 반환한다.
- 배열 안에서 원소들의 순서를 뒤바꾼다.
### sort()
- 배열 안의 원소들을 알파벳순으로 정렬하여 반환한다.
- undefined가 존재하면 배열의 끝부분으로 정렬한다.
### concat()
- 기존 배열의 모든 원소에 메서드 전달인자를 추가한 새로운 배열을 반환한다.
- 전달인자로 배열을 전달하면, 배열안의 원소들을 꺼내어 배열에 추가한 후 반환한다.
- 전달인자로 중첩된 배열을 전달할 경우는 중첩된 배열은 꺼내지 않는다.
### slice()
- 전달인자로 잘라낼 원소들의 시작과 끝을 전달한다.
- 전달인자로 하나의 값만 전달할 경우 그위치부터 배열의 끝까지 반환한다.
- -1은 배열의 마지막 원소를 가리킨다.
### splice()
- 배열의 원소를 삽입하거나 원소를 제거하려 할 때 범용적으로 사용할 수 있는 메서드
- 원소를 삽입하거나, 제거할 경우 호출 대상 배열을 바로 수정한다.
- 전달인자 중 첫번째 전달인자는 삽입 혹은 삭제 작업을 시작할 위치를 지정한다.
- 전달인자 중 두번째 전달인자는 삽입 혹은 삭제 작업을 할 원소의 개수를 지정한다.
- 전달인자 중 세번째 전달인자부터는 삽입할 원소들을 지정하는데 사용된다.
### push()
- a[a.length]에 값을 할당하는 것과 같다.
### pop()
- length를 하나 줄이고, 삭제된 값(배열의 끝에 있는 값)을 반환한다.
### unshift(), shift()
- push , pop 메서드는 배열의 끝부분에서 동작을 하지만 unshift()와 shift() 는 배열의 앞에서 동작한다.
- unshift()는 원소를 추가할 때 사용, shift()는 원소를 삭제할 때 사용한다.
### toString(), toLocaleString()
- toString() 메서드는 모든 원소를 문자열로 변환하고, 이 문자열들을 쉼표(,)로 분리한 목록을 반환한다.
- 별도의 전달인자를 지정하지 않으면 join() 메서드와 toString() 메서드는 동일한 결과를 얻는다.

## 7.9 ECMAScript 배열 메서드
### forEach()
- 배열을 순회하는 메서드
- 첫번째 인자로 넘긴 함수를 각각의 원소를 대상으로 호출한다.
- 첫 인자로 전달된 함수를 호출할때 세가지 인자를 넘긴다.(배열의 원소 값, 원소의 인덱스 값, 배열 그 자체)
- 배열의 값만 사용하는 경우에는 함수의 인자를 하나만 넘겨준다.
- *배열의 모든 원소가 순회되기 전에는 종료 되지 않는다.*
- *만약 중간에 종료 시키려면 예외를 발생시켜야 하고 forEach()문은 try문 안에서 호출해야 한다.*
### map()
- map() 메서드에서 전달된 함수는 forEach()에 전달한 함수와 동일한 형태로 호출되지만 map() 메서드에서는 반드시 값을 반환해야 한다.
- 기존의 배열을 수정하지 않고 새 배열을 반환한다.
### filter()
- 배열의 일부분을 반환한다.
- 메서드에 전달하는 함수는 true / false 값을 반환하는 조건자 함수여야 한다.
- 반환 값이 true이건마 true로 변호나되는 값이면 조건자 함수에 전달된 값은 filter가 반환할 배열에 추가된다.    
희소배열의 빈원소를 제거하고 싶을때
```javascript
var dense = sparse.filter(function() { return true; });
```
만약 빈 원소갸 있던 간격을 좁히고 undefined와 null 값을 갖는 원소도 함께 제거하고 싶을때
```javascript
a = a.filter(function(x) { return x !== undefined && x != null; });
```
### every(), some()
- every()와 some() 메서드는 배열 조건자 함수이고, 결과로 true나 false를 반환한다.
- every() 메서드는 모든 것에 대하여 조건을 만족하면 true를 반환한다.
- some() 일부분에 대하여 조건을 만족하면 true를 반환한다.

### reduce(), reduceRight()
- 인자로 주어진 함수를 사용하여 배열의 원소들을 하나의 값으로 결합한다.
- reduce() 메서드는 두개의 인자를 갖는다. 첫번째 인자는 감소 함수로 배열 원소 중 두 값을 하나로 결합하면서 크기를 줄이고 마지막 남은 값을 반환한다. 두번째 인자는 가소 함수에 전달할 시작 값이다. 두번째 인자 값이 없을 경우에는 배열의 첫번째 원소를 초기 값으로 사용한다.
```javascript
var a = [1,2,3,4,5];
var sum = a.reduce(function(x,y) { return x+y }, 0);    // 배열 a의 원소들의 합
var product = a.reduce(function(x,y) { return x*y }, 1);    // 배열 a의 원소들의 곱
var max = a.reduce(function(x,y) { return (x>y)?x:y; });    // 배열 a에서 원소 중 가장 큰 값
```
- reduceRight()는 reduce와 반대로 배열의 끝에서부터 시작해 반대방향으로 처리한다.

### indexOf(), lastIndexOf()    
- indexOf()와 lastIndexOf()는 배열의 원소 중에서 특정한 값을 찾는다. 값이 존재하면 해당 값의 인덱스를 반환하고, 존재하지 않을 경우 -1을 반환한다.
- 첫번째 인자로는 배열에서 찾고자 하는 값이고 두번째 인자는 시작할 배열의 인덱스이다.
- indexOf()는 배열의 앞에서부터 검색을 시작하고, lastIndexOf()는 배열의 뒤에서부터 검색을 시작한다.
## 7.10 배열 타입
- isArray() 라는 함수를 이용해서 객체가 배열인지 여부를 판단할 수 있다.

## 7.11 유사 배열 객체
자바스크립트 배열에는 다른 객체에는 없는 몇가지 특징이 있다.    
- length 프로퍼티는 배열에 새 원소가 추가도리 때마다 자동으로 갱신된다.
- length 값을 임의로 설정함으로써 배열의 크기를 줄일 수 있다.
- Array.prototype에 정의된 유용한 메서드들을 상속한다.

## 7.12 문자열을 배열처럼 사용하기
- 문자열의 각 문자는 charAt() 메서드로 접근할 수도 있지만 [ ]를 사용해 접근할 수도 있다.
